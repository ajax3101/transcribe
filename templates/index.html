{% extends "base.html" %}

{% block title %}Upload File{% endblock %}

{% block content %}
<h1 class="text-center">Upload a File</h1>

<form id="upload-form" method="post" enctype="multipart/form-data" action="/upload">
  <div class="form-group">
    <input type="file" id="file" name="file" accept=".mp3" class="form-control-file" required>
  </div>
  <button type="submit" class="btn btn-primary mt-3">Upload</button>
</form>

<div id="status" class="mt-5" style="display: none;">
  <h5 id="status-text">Uploading...</h5>
  <div class="progress mt-3">
    <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%;">0%</div>
  </div>
</div>

<!-- Toast -->
<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
  <div id="uploadToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <strong class="me-auto">Karaoke App</strong>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body" id="toast-body">Uploading...</div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/upload.js') }}"></script>
{% endblock %}
