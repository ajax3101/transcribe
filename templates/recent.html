{% extends "base.html" %}

{% block title %}Recent Files{% endblock %}

{% block content %}
<h1 class="text-center mb-4">Recent Files</h1>

<div class="table-responsive">
  <table class="table table-striped table-bordered" id="recentFilesTable">
    <thead>
      <tr>
        <th>Filename</th>
        <th>Uploaded</th>
        <th>Duration</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      {% for file in files %}
      <tr>
        <td>{{ file.name }}</td>
        <td>{{ file.uploaded.strftime('%d %b %Y %H:%M') }}</td>
        <td>{{ (file.duration // 60)|int }} мин {{ (file.duration % 60)|int }} с</td>
        <td>{{ file.status }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}

{% block extra_js %}
<script>
$(document).ready(function() {
    $('#recentFilesTable').DataTable({
        "pageLength": 10,
        "searching": true
    });
});
</script>
{% endblock %}
